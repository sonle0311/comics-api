---

# ğŸ“„ PRD â€“ Há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u truyá»‡n tranh

## 1. Má»¥c tiÃªu

XÃ¢y dá»±ng há»‡ thá»‘ng backend báº±ng .NET Ä‘á»ƒ:

* LÆ°u trá»¯ vÃ  quáº£n lÃ½ thÃ´ng tin truyá»‡n tranh tá»« API `https://otruyenapi.com`
* Phá»¥c vá»¥ cho má»¥c Ä‘Ã­ch hiá»ƒn thá»‹, tÃ¬m kiáº¿m, phÃ¢n loáº¡i, vÃ  truy xuáº¥t chapter

## 2. CÃ¡c chá»©c nÄƒng chÃ­nh

### 2.1 Truyá»‡n tranh (Manga)

* LÆ°u trá»¯ thÃ´ng tin cÆ¡ báº£n vá» truyá»‡n: tÃªn, mÃ´ táº£, áº£nh, thá»ƒ loáº¡i, chapter má»›i nháº¥t.

### 2.2 Chapter

* LÆ°u thÃ´ng tin chapter theo truyá»‡n.
* Truy xuáº¥t áº£nh cá»§a tá»«ng chapter.

### 2.3 HÃ¬nh áº£nh trong chapter

* Tá»«ng áº£nh cá»§a chapter Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ vÃ  lÆ°u link.

### 2.4 Thá»ƒ loáº¡i

* Quáº£n lÃ½ danh sÃ¡ch cÃ¡c thá»ƒ loáº¡i truyá»‡n.
* LiÃªn káº¿t nhiá»u-nhiá»u vá»›i Manga.

---

## 3. Entity Model (C# â€“ .NET)

```csharp
public class Manga
{
    public Guid Id { get; set; }
    public string Name { get; set; }
    public string Slug { get; set; }
    public List<string>? OriginNames { get; set; }
    public string? Description { get; set; }
    public string? Content { get; set; }
    public string Status { get; set; } // ongoing, completed, etc.
    public string ThumbUrl { get; set; }
    public bool SubDocQuyen { get; set; }
    public List<string>? Authors { get; set; }
    public DateTime UpdatedAt { get; set; }

    // Navigation properties
    public ICollection<Category> Categories { get; set; }
    public ICollection<Chapter> Chapters { get; set; }
    public ICollection<Chapter> ChaptersLatest { get; set; }
    public SeoMeta? Seo { get; set; }
}
```

```csharp
public class Chapter
{
    public Guid Id { get; set; }
    public Guid MangaId { get; set; }
    public string Filename { get; set; }
    public string ChapterName { get; set; }
    public string? ChapterTitle { get; set; }
    public string ChapterApiData { get; set; }

    // Navigation
    public Manga Manga { get; set; }
    public ICollection<ChapterImage> Images { get; set; }
}
```

```csharp
public class ChapterImage
{
    public Guid Id { get; set; }
    public Guid ChapterId { get; set; }

    public int Page { get; set; }

    // TÃªn file áº£nh, vÃ­ dá»¥: "page_1.jpg"
    public string ImageFile { get; set; }

    // ÄÆ°á»ng dáº«n chapter tÆ°Æ¡ng Ä‘á»‘i, vÃ­ dá»¥: "uploads/20231226/xxx/chapter_1"
    public string ChapterPath { get; set; }

    public Chapter Chapter { get; set; }
}
```

```csharp
public class Category
{
    public Guid Id { get; set; }
    public string Slug { get; set; }
    public string Name { get; set; }

    // Navigation
    public ICollection<Manga> Mangas { get; set; }
}
```

```csharp
public class SeoMeta
{
    public Guid Id { get; set; }
    public string TitleHead { get; set; }
    public string DescriptionHead { get; set; }
    public string OgType { get; set; }
    public List<string> OgImage { get; set; }
    public string? OgUrl { get; set; }
    public long? UpdatedTime { get; set; }
}
```

---

## 4. Má»‘i quan há»‡

| Entity A | Entity B     | Quan há»‡       |
| -------- | ------------ | ------------- |
| Manga    | Category     | Nhiá»u - nhiá»u |
| Manga    | Chapter      | Má»™t - nhiá»u   |
| Chapter  | ChapterImage | Má»™t - nhiá»u   |
| Manga    | SeoMeta      | Má»™t - má»™t     |

---